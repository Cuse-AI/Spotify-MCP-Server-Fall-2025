# Ananki Enhanced Datasets

This folder contains datasets enhanced by Ananki (Claude's semantic analysis engine) to improve data quality and geometric structure for the Tapestry vibe manifold.

## ğŸ“ Files

### **ananki_v1_recategorized.csv** (7,359 records)
- **Source:** V4 training data
- **Enhancement:** Semantic re-categorization of "Other" and "Various"
- **Improvements:**
  - Reduced "Other" vibe category from 58.2% â†’ 47.4% (10.9pp)
  - Added 4 new vibe categories (Ethereal/Dreamy, Epic/Cinematic, Rebellious/Punk, Rainy/Cozy)
  - Recategorized 799 vibes using keyword-based semantic analysis
  - Better emotional granularity (16 â†’ 20 distinct vibe categories)

### **merged_v4v5.csv** (7,740 records)
- **Source:** V4 base (7,359) + V5 geometric (391)
- **Purpose:** Combines vocabulary coverage (V4) with geometric structure (V5)
- **Geometric Coverage:**
  - Anchors: 131 records (1.7%)
  - Deltas: 272 records (3.5%)
  - Reasoning: 120 records (1.6%)
- **Structure:** 381 new V5 records added, 10 matched and enriched V4 records

### **ananki_v3_with_anchors.csv** (7,740 records) â­ **LATEST**
- **Source:** ananki_v2_with_implicit_deltas.csv
- **Enhancement:** Aggressive anchor extraction with multi-pattern matching
- **Improvements:**
  - Anchor coverage: 1.7% â†’ 19.2% (+1,354 anchors, 17.5pp improvement)
  - Multi-source extraction (vibe descriptions + recommendation reasoning)
  - Confidence scoring for each extracted anchor
  - Source-aware pattern filtering (avoids false positives from vibe titles)
- **Status:** Ready for Fix #4 (booster scraper templates)
- **Note:** Anchor coverage below 70% target due to dataset nature - many vibes don't reference specific songs

## ğŸ”„ Processing Pipeline

```
V4 Training Data (7,359)
  â†“
[FIX #1: Semantic Re-categorization]
  â†“
ananki_v1_recategorized.csv
  â†“
[MERGE: V4 + V5 Geometric]
  â†“
merged_v4v5.csv (7,740)
  â†“
[FIX #2: Implicit Delta Inference]
  â†“
ananki_v2_with_implicit_deltas.csv
  â†“
[FIX #3: Aggressive Anchor Extraction]
  â†“
ananki_v3_with_anchors.csv â­
```

## ğŸ“Š Current Dataset Stats (v3)

**Total Records:** 7,740
- V4 vocabulary: 7,359
- V5 geometric: 381

**Vibe Categories:** 20 distinct categories
- Reduced "Other" from 58.2% â†’ 47.4%
- Better emotional distribution

**Geometric Structure:**
- Anchors: 1,485 (19.2%) â† **Improved!**
- Deltas: 1,241 (16.0%)
- Reasoning: 120 (1.6%)

**Genre Categories:** 13 categories
- Still needs balance (Various at 70.8%)
- Will improve with audio features integration

## ğŸ¯ Next Steps

### Fix #4: Create Booster Scraper Templates â­ **NEXT**
- Mood injection scrapers (target specific emotional states)
- Genre injection scrapers (fill underrepresented genres)
- Temporal injection scrapers (specific time contexts)

### Fix #5: Audio Features Integration
- Use Spotify API to get audio_features
- Combine vibe descriptions + audio features
- Better genre classification

## ğŸ’¡ Usage

**For Training:**
Use `ananki_v3_with_anchors.csv` - it has the most complete geometric structure and best categorization.

**For Analysis:**
Compare v1/v2/v3 to see progressive improvements.

**For Development:**
Use `merged_v4v5.csv` as baseline before enhancements.

---

**Generated by:** Ananki (Claude's semantic analysis engine)
**Date:** November 7, 2025
**Status:** Fix #3 Complete, Ready for Fix #4
